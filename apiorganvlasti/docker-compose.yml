version: "3.7"
services:
  xml-db-organ-vlasti:
    image: existdb/existdb:latest
    ports:
      - "8081:8080"
  rdf-db-organ-vlasti:
    build:
      context: .
      dockerfile: .docker.fuseki/Dockerfile
    ports:
      - "8082:3030"
    environment:
      - ADMIN_PASSWORD=password
  organ-vlasti:
    build:
      context: .
      dockerfile: .docker.java/Dockerfile
    ports:
      - "8080:8080"
    environment:
      XML_DB_HOST: xml-db-organ-vlasti
      XML_DB_USER: admin
      XML_DB_PORT: 8080
      RDF_DB_HOST: rdf-db-organ-vlasti
      RDF_DB_PORT: 3030
      RDF_DB_PASSWORD: password
      SPRING_PORT: 8080

      FRONTEND_URL: http://localhost:8086
    volumes:
      - ./output_html:/output_html
      - ./output_pdf:/output_pdf
      - ./output_xml:/output_xml
